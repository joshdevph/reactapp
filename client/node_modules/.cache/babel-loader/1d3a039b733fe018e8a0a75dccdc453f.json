{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/i7/Desktop/ReactWeb/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/i7/Desktop/ReactWeb/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/i7/Desktop/ReactWeb/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useContext}from'react';import{Link}from'react-router-dom';import{GlobalState}from'../../GlobalState';import axios from'axios';import{FiShoppingCart,FiAlignRight}from\"react-icons/fi\";function Header(){var state=useContext(GlobalState);var _state$userAPI$isLogg=_slicedToArray(state.userAPI.isLogged,1),isLogged=_state$userAPI$isLogg[0];var _state$userAPI$isAdmi=_slicedToArray(state.userAPI.isAdmin,1),isAdmin=_state$userAPI$isAdmi[0];var _state$userAPI$cart=_slicedToArray(state.userAPI.cart,1),cart=_state$userAPI$cart[0];var logoutUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://foodaa-app.herokuapp.com/api/user/logout');case 2:localStorage.removeItem('frstLogin');window.location.href=\"/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function logoutUser(){return _ref.apply(this,arguments);};}();var adminRouter=function adminRouter(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\",children:/*#__PURE__*/_jsx(Link,{to:\"/create_products\",children:\"create products\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\",children:/*#__PURE__*/_jsx(Link,{to:\"/category\",children:\"categories\"})})]});};var loggedRouter=function loggedRouter(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\",children:/*#__PURE__*/_jsx(Link,{to:\"/history\",children:\"history\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:logoutUser,children:\"logout\"})})]});};return/*#__PURE__*/_jsx(\"header\",{className:\"w-full shadow  bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-between items-center m-auto w-5/6 py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden\",children:/*#__PURE__*/_jsx(FiAlignRight,{className:\" mr-5 text-4xl md:hidden\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 uppercase tracking-widest\",children:isAdmin?'Admin panel':'Foodaa'})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden space-x-10 md:flex md:items-center md:justify-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:isAdmin?'Product':'Shop'})}),isAdmin&&adminRouter(),\" \",isLogged?loggedRouter():/*#__PURE__*/_jsx(\"span\",{className:\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})}),isAdmin?'':/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/cart\",children:[/*#__PURE__*/_jsx(FiShoppingCart,{className:\" mt-4 text-2xl absolute\"}),/*#__PURE__*/_jsx(\"span\",{className:\"relative text-sm font-semibold flex justify-center items-center w-7 h-7 top-0 left-3 bg-red-400 rounded-full\",children:cart.length}),/*#__PURE__*/_jsx(\"span\",{className:\"relative text-sm font-semibold flex justify-center items-center w-7 h-7 bottom-7 left-3 bg-red-400 rounded-full animate-ping\"})]})})]})]})});}export default Header;","map":{"version":3,"sources":["C:/Users/i7/Desktop/ReactWeb/client/src/components/header/Header.js"],"names":["React","useContext","Link","GlobalState","axios","FiShoppingCart","FiAlignRight","Header","state","userAPI","isLogged","isAdmin","cart","logoutUser","get","localStorage","removeItem","window","location","href","adminRouter","loggedRouter","length"],"mappings":"wlBAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,WAAR,KAA0B,mBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,CAAyBC,YAAzB,KAA4C,gBAA5C,CACA,QAASC,CAAAA,MAAT,EAAkB,CACd,GAAMC,CAAAA,KAAK,CAAGP,UAAU,CAACE,WAAD,CAAxB,CADc,yCAEKK,KAAK,CAACC,OAAN,CAAcC,QAFnB,IAEPA,QAFO,mEAGIF,KAAK,CAACC,OAAN,CAAcE,OAHlB,IAGPA,OAHO,iEAICH,KAAK,CAACC,OAAN,CAAcG,IAJf,IAIPA,IAJO,wBAOd,GAAMC,CAAAA,UAAU,0FAAG,yJACTT,CAAAA,KAAK,CAACU,GAAN,CAAU,kDAAV,CADS,QAGfC,YAAY,CAACC,UAAb,CAAwB,WAAxB,EAEAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CALe,sDAAH,kBAAVN,CAAAA,UAAU,0CAAhB,CAOA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAK,CACrB,mBACI,wCACI,aAAM,SAAS,CAAC,kEAAhB,uBAAmF,KAAC,IAAD,EAAM,EAAE,CAAC,kBAAT,6BAAnF,EADJ,cAEI,aAAM,SAAS,CAAC,kEAAhB,uBAAmF,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,wBAAnF,EAFJ,GADJ,CAMH,CAPD,CASA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAK,CACtB,mBACI,wCACI,aAAM,SAAS,CAAC,kEAAhB,uBAAmF,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,qBAAnF,EADJ,cAEI,aAAM,SAAS,CAAC,kEAAhB,uBAAmF,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,OAAO,CAAER,UAAtB,oBAAnF,EAFJ,GADJ,CAMH,CAPD,CAQA,mBACI,eAAQ,SAAS,CAAC,2BAAlB,uBACI,aAAK,SAAS,CAAC,8DAAf,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,YAAD,EAAc,SAAS,CAAC,0BAAxB,EADJ,EADJ,cAKI,kCACI,WAAI,SAAS,CAAC,oBAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,aAAM,SAAS,CAAC,wCAAhB,UAA0DF,OAAO,CAAG,aAAH,CAAmB,QAApF,EAAb,EADJ,EADJ,EALJ,cAWI,aAAK,SAAS,CAAC,6DAAf,wBACI,aAAM,SAAS,CAAC,kEAAhB,uBAAmF,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,UAAcA,OAAO,CAAG,SAAH,CAAe,MAApC,EAAnF,EADJ,CAGKA,OAAO,EAAIS,WAAW,EAH3B,KAIQV,QAAQ,CAAGW,YAAY,EAAf,cAAoB,aAAM,SAAS,CAAC,kEAAhB,uBAAmF,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBAAnF,EAJpC,CAOMV,OAAO,CAAG,EAAH,cACO,kCACA,MAAC,IAAD,EAAM,EAAE,CAAC,OAAT,wBAAiB,KAAC,cAAD,EAAgB,SAAS,CAAC,yBAA1B,EAAjB,cACA,aAAM,SAAS,CAAC,8GAAhB,UAAgIC,IAAI,CAACU,MAArI,EADA,cAEA,aAAM,SAAS,CAAC,8HAAhB,EAFA,GADA,EARpB,GAXJ,GADJ,EADJ,CAmCH,CAED,cAAef,CAAAA,MAAf","sourcesContent":["import React, {useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../GlobalState'\r\nimport axios from 'axios'\r\nimport { FiShoppingCart, FiAlignRight} from \"react-icons/fi\";\r\nfunction Header() {\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [cart] = state.userAPI.cart\r\n\r\n\r\n    const logoutUser = async () =>{\r\n        await axios.get('https://foodaa-app.herokuapp.com/api/user/logout')\r\n        \r\n        localStorage.removeItem('frstLogin')\r\n        \r\n        window.location.href = \"/\";\r\n    }\r\n    const adminRouter = () =>{\r\n        return(\r\n            <>\r\n                <span className=\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\"><Link to=\"/create_products\">create products</Link></span>\r\n                <span className=\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\"><Link to=\"/category\">categories</Link></span>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const loggedRouter = () =>{\r\n        return(\r\n            <>\r\n                <span className=\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\"><Link to=\"/history\">history</Link></span>\r\n                <span className=\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\"><Link to=\"/\" onClick={logoutUser}>logout</Link></span>\r\n            </>\r\n        )\r\n    }\r\n    return (\r\n        <header className=\"w-full shadow  bg-gray-50\">\r\n            <div className=\"flex flex-row justify-between items-center m-auto w-5/6 py-5\">\r\n                <div className=\"md:hidden\">\r\n                    <FiAlignRight className=\" mr-5 text-4xl md:hidden\" />\r\n                </div>\r\n\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold\">\r\n                        <Link to=\"/\"><span className=\"text-red-500 uppercase tracking-widest\">{isAdmin ? 'Admin panel' : 'Foodaa'}</span></Link>\r\n                    </h1>\r\n                </div>\r\n\r\n                <div className=\"hidden space-x-10 md:flex md:items-center md:justify-center\">\r\n                    <span className=\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\"><Link to=\"/\">{isAdmin ? 'Product' : 'Shop'}</Link></span>\r\n\r\n                    {isAdmin && adminRouter()} {\r\n                        isLogged ? loggedRouter() : <span className=\"text-md uppercase border-b-2 border-gray-50 hover:border-red-400\"><Link to=\"/login\">Login</Link></span>\r\n                    }\r\n\r\n                    { isAdmin ? '' :\r\n                                    <div>\r\n                                    <Link to=\"/cart\"><FiShoppingCart className=\" mt-4 text-2xl absolute\"/>\r\n                                    <span className=\"relative text-sm font-semibold flex justify-center items-center w-7 h-7 top-0 left-3 bg-red-400 rounded-full\">{cart.length}</span>\r\n                                    <span className=\"relative text-sm font-semibold flex justify-center items-center w-7 h-7 bottom-7 left-3 bg-red-400 rounded-full animate-ping\"></span>\r\n                                    </Link>\r\n                                    </div>\r\n                    }\r\n                    \r\n\r\n                </div>\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n"]},"metadata":{},"sourceType":"module"}