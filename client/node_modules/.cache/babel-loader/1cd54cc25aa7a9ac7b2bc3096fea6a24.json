{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/i7/Desktop/ReactWeb/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/i7/Desktop/ReactWeb/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/i7/Desktop/ReactWeb/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/i7/Desktop/ReactWeb/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/i7/Desktop/ReactWeb/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from'react';import axios from\"axios\";import{Link}from\"react-router-dom\";function Login(){var _useState=useState({name:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('https://foodaa-app.herokuapp.com/api/user/login',_objectSpread({},user));case 4:localStorage.setItem('frstLogin',true);window.location.href=\"/\";_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);alert(_context.t0.response.data.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function login(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-300 h-96 w-5/6  md:w-1/4 flex flex-col justify-center items-center m-auto mt-24 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" h-full flex flex-col justify-around items-center w-full\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl\",children:\"Login\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:login,className:\"flex flex-col space-y-3 w-full px-4 md:px-7\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,name:\"email\",className:\"  h-10 pl-2 rounded-md bg-red-50 text-black font-bold  text-xs focus:outline-none\",placeholder:\"Email\",value:user.email,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,name:\"password\",className:\"  h-10 pl-2 rounded-md bg-red-50 text-black font-bold  text-xs focus:outline-none\",placeholder:\"Password\",value:user.password,onChange:onChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"inline-block bg-red-400 rounded-sm uppercase p-2 focus:outline-none\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"inline-block\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})})]})]})});}export default Login;","map":{"version":3,"sources":["C:/Users/i7/Desktop/ReactWeb/client/src/components/mainpages/auth/Login.js"],"names":["React","useState","axios","Link","Login","name","email","password","user","setUser","onChange","e","target","value","login","preventDefault","post","localStorage","setItem","window","location","href","alert","response","data","message"],"mappings":"w1BAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,MAAQC,CAAAA,KAAR,KAAmB,OAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAGA,QAASC,CAAAA,KAAT,EAAiB,eACYH,QAAQ,CAAC,CAC9BI,IAAI,CAAC,EADyB,CACrBC,KAAK,CAAC,EADe,CACXC,QAAQ,CAAC,EADE,CAAD,CADpB,wCACLC,IADK,eACCC,OADD,eAKb,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,CAAG,eACKA,CAAC,CAACC,MADP,CACVP,IADU,WACVA,IADU,CACJQ,KADI,WACJA,KADI,CAEjBJ,OAAO,gCAAKD,IAAL,wBAAaH,IAAb,CAAmBQ,KAAnB,GAAP,CACH,CAHD,CAKA,GAAMC,CAAAA,KAAK,0FAAG,iBAAMH,CAAN,kHACVA,CAAC,CAACI,cAAF,GADU,sCAGAb,CAAAA,KAAK,CAACc,IAAN,CAAW,iDAAX,kBAAkER,IAAlE,EAHA,QAINS,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkC,IAAlC,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAsB,GAAtB,CALM,+EAONC,KAAK,CAAC,YAAMC,QAAN,CAAeC,IAAf,CAAoBC,OAArB,CAAL,CAPM,oEAAH,kBAALX,CAAAA,KAAK,4CAAX,CAUA,mBACQ,YAAK,SAAS,CAAC,mGAAf,uBACI,aAAK,SAAS,CAAC,0DAAf,wBACI,kCACI,WAAI,SAAS,CAAC,UAAd,mBADJ,EADJ,cAII,cAAM,QAAQ,CAAEA,KAAhB,CAAuB,SAAS,CAAC,6CAAjC,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAuB,QAAQ,KAA/B,CAAiC,IAAI,CAAC,OAAtC,CAA8C,SAAS,CAAC,mFAAxD,CAA4I,WAAW,CAAC,OAAxJ,CAAiK,KAAK,CAAEN,IAAI,CAACF,KAA7K,CAAoL,QAAQ,CAAEI,QAA9L,EADJ,cAGI,cAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,KAA/B,CAAgC,IAAI,CAAC,UAArC,CAAgD,SAAS,CAAC,mFAA1D,CAA8I,WAAW,CAAC,UAA1J,CAAqK,KAAK,CAAEF,IAAI,CAACD,QAAjL,CAA2L,QAAQ,CAAEG,QAArM,EAHJ,cAKI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,qEAAhC,mBALJ,cAMI,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,cAA/B,uBAA8C,eAAQ,IAAI,CAAC,QAAb,sBAA9C,EANJ,GAJJ,GADJ,EADR,CAiBH,CAED,cAAeN,CAAAA,KAAf","sourcesContent":["import React,{useState} from 'react'\r\nimport  axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nfunction Login() {\r\n    const [ user, setUser] = useState({\r\n        name:\"\", email:\"\", password:\"\"\r\n    })\r\n\r\n    const onChange = e =>{\r\n        const {name, value} = e.target\r\n        setUser({...user , [name]:value })\r\n    }\r\n\r\n    const login = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('https://foodaa-app.herokuapp.com/api/user/login', {...user})\r\n            localStorage.setItem('frstLogin', true)\r\n            window.location.href= \"/\"\r\n        } catch (error) {\r\n            alert(error.response.data.message)\r\n        }\r\n    }\r\n    return (\r\n            <div className=\"bg-red-300 h-96 w-5/6  md:w-1/4 flex flex-col justify-center items-center m-auto mt-24 rounded-md\">\r\n                <div className=\" h-full flex flex-col justify-around items-center w-full\">\r\n                    <div>\r\n                        <h1 className=\"text-4xl\">Login</h1>\r\n                    </div>\r\n                    <form onSubmit={login} className=\"flex flex-col space-y-3 w-full px-4 md:px-7\">\r\n                        <input type=\"text\"     required  name=\"email\" className=\"  h-10 pl-2 rounded-md bg-red-50 text-black font-bold  text-xs focus:outline-none\" placeholder=\"Email\"  value={user.email} onChange={onChange}/>\r\n\r\n                        <input type=\"password\" required name=\"password\" className=\"  h-10 pl-2 rounded-md bg-red-50 text-black font-bold  text-xs focus:outline-none\" placeholder=\"Password\" value={user.password} onChange={onChange}/>\r\n\r\n                        <button type=\"submit\" className=\"inline-block bg-red-400 rounded-sm uppercase p-2 focus:outline-none\">Login</button>\r\n                        <Link to=\"/register\" className=\"inline-block\"><button type=\"submit\" >Register</button></Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}